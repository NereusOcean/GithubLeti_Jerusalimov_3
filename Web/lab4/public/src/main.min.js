"use strict";$(document).ready((function(){}));
"use strict";function renderLib(t){$("#contentPainting").empty();for(var i=function(i){var n=$("#contentPainting");n.append('<div class="boxPainting">');var a=n.find("div.boxPainting");a.last().append('<img src="'+t[i].link+'"/>'),a.last().append('<div class="textBox">'),a.last().find("div.textBox").last().append('<text id="Name">Название: '+t[i].name+"</text>"),a.last().find("div.textBox").last().append('<text id="painter">Художник: '+t[i].author+"</text>"),a.last().find("div.textBox").last().append('<text id="startPrice">Начальная цена:  '+t[i].cost+"</text>"),a.last().find("div.textBox").last().append('<text id="minStep">Минимальный шаг аукциона:  '+t[i].min+"</text>"),a.last().find("div.textBox").last().append('<text id="maxStep">Максимальный шаг аукциона:  '+t[i].max+"</text>"),a.last().find("div.textBox").last().append("<flex>"),a.last().find("div.textBox").last().find("flex").last().append('<button id="editPaintingSettings">Редактировать</button>'),a.last().find("div.textBox").last().find("flex").last().append('<button id="deletePaintingSettings">Удалить картину</button>'),a.last().find("div.textBox").last().find("flex").last().find("#deletePaintingSettings").on("click",(function(){deletePainting(i)})),a.last().find("div.textBox").last().find("flex").last().find("#editPaintingSettings").on("click",(function(){editPaintingSettings(i)}))},n=0;n<t.length;n++)i(n)}function renderPage(t){$.getJSON(t).then((function(t){return renderLib(t)}))}function deletePainting(t){$.get("/picture/delete/"+t).then((function(t){renderPage("/picture/add")}))}function updatePaint(){var t=$("#ids").val(),i=$("#namePic").val(),n=$("#authorPic").val(),a=$("#costPic").val(),e=$("#imagePic").val(),d=$("#minPriceStep").val(),o={index:t,name:i,author:n,cost:a,min:$("#maxPriceStep").val(),max:d,link:e};$.post("/picture/update",{data:JSON.stringify(o)}),$("#dialogFormToAddPainting").hide(),renderPage("/picture/add")}function editPaintingSettings(t){$.getJSON("/picture/add").then((function(i){$("#ids").val(t),$("#namePic").val(i[t].name),$("#authorPic").val(i[t].author),$("#costPic").val(i[t].cost),$("#imagePic").val(i[t].link),$("#minPriceStep").val(i[t].max),$("#maxPriceStep").val(i[t].min),$("#dialogFormToEditPaintings").show()}))}$(document).ready((function(){renderPage("/picture/add"),$("#addPainting").on("click",(function(){$("#dialogFormToAddPainting").show()})),$("#updatePainting").on("click",(function(){updatePaint()})),$("#addPaintingButton").on("click",(function(){var t=$("#name_pic").val(),i=$("#author_pic").val(),n=$("#cost").val(),a=$("#image_pic").val();if(""===t||""===i||""===n||""===a)alert("Заполните все поля отмеченные звездой!");else{var e={index:"",name:t,author:i,cost:n,min:"5",max:"10",link:a};$("#name_pic").val(""),$("#author_pic").val(""),$("#image_pic").val(""),$("#cost").val(""),$.post("/picture/add",{data:JSON.stringify(e)}),$("#dialogFormToAddPainting").hide(),renderPage("/picture/add")}})),$("#closeAddingPainting").on("click",(function(){$("#dialogFormToAddPainting").hide()})),$("#closeSettingsPainting").on("click",(function(){$("#dialogFormToEditPaintings").hide()}))}));
"use strict";function renderLib(t){$("#contentPainting").empty();for(var i=function(i){var n=$("#contentPainting");n.append('<div class="boxPainting">');var a=n.find("div.boxPainting");a.last().append('<div class="textBox">'),a.last().find("div.textBox").last().append("<grid>");var e=a.last().find("div.textBox").last().find("grid").last();e.append('<text id="name">Имя: '+t[i].name+"</text>"),e.append('<text id="painter">Бюджет: '+t[i].budget+"</text>"),e.append("<flex>"),e.find("flex").last().append('<button id="editParticipantsSettings">Редактировать</button>'),e.find("flex").last().append('<button id="deleteParticipantsSettings">Удалить участника</button>'),e.find("flex").last().find("#deleteParticipantsSettings").on("click",(function(){deletePainting(i)})),e.find("flex").last().find("#editParticipantsSettings").on("click",(function(){editParticipantsSettings(i)}))},n=0;n<t.length;n++)i(n)}function renderPage(t){$.getJSON(t).then((function(t){return renderLib(t)}))}function updateParticipants(){var t=$("#newName").val(),i=$("#newBudget").val(),n={index:$("#ids").val(),name:t,budget:i};console.log(n),$.post("/participants/update",{data:JSON.stringify(n)}),$("#dialogFormToEditParticipants").hide(),setTimeout(renderPage("/participants/add"),1500)}function editParticipantsSettings(t){$.getJSON("/participants/add").then((function(i){$("#ids").val(t),$("#newName").val(i[t].name),$("#newBudget").val(i[t].budget),$("#dialogFormToEditParticipants").show()}))}function deletePainting(t){$.get("/participants/delete/"+t).then((function(t){renderPage("/participants/add")}))}$(document).ready((function(){renderPage("/participants/add"),$("#addParticipants").on("click",(function(){$("#dialogFormToAddParticipants").show()})),$("#updateParticipants").on("click",(function(){updateParticipants()})),$("#addParticipantsButton").on("click",(function(){var t=$("#name").val(),i=$("#budget").val();if(""===t||""===i)alert("Заполните все поля отмеченные звездой!");else{var n={index:"",name:t,budget:i};$("#name").val(""),$("#budget").val(""),$.post("/participants/add",{data:JSON.stringify(n)}),$("#dialogFormToAddParticipants").hide(),renderPage("/participants/add")}})),$("#closeAddingParticipants").on("click",(function(){$("#dialogFormToAddParticipants").hide()})),$("#closeSettingsParticipants").on("click",(function(){$("#dialogFormToEditParticipants").hide()}))}));
"use strict";$(document).ready((function(){$("#updateSettings").on("click",(function(){var t=$("#startTime").val(),e=$("#startDate").val(),a=$("#intervalSell").val(),l=$("#pauseInterval").val();if(""===t||""===e||""===a||""===l)alert("Вы не ввели все данные");else{var n={timeBegin:t,dateBegin:e,sellInterval:a,pauseInterval:l};console.log(n),$.post("/settings/update",{data:JSON.stringify(n)})}}))}));